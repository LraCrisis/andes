<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" >
<head>
    <title>Drawing Test</title>
	<link href="../js/drawing/resources/drawing.css" rel="stylesheet" />

	<style>
		href, body{
			overflow:hidden;
		}
		textarea{
			position:absolute;
			top:5px;
			left:500px;
			width:300px;
			overflow:hidden;
		}
	</style>
	
	<script>

		var watched = {};
		var ta;
		watch = function(name, value){
			if(!ta) {
				ta = dojo.byId("ta");
				//ta.style.display = "";
			}
			watched[name] = value;
			var lines=[];
			for(var n in watched){
				lines.push(n+": "+watched[n]);
			}
			dojo.attr(ta, "rows", lines.length);
			ta.value = lines.join("\n");
		}
	
		djConfig = {
			isDebug:true,
			modulePaths: {'drawing': '../../js/drawing'},
			//modulePaths: {'drawing': '../../../drawing'},
			//gfxRenderer:'silverlight',
			//gfxRenderer:'vml',
			parseOnLoad:true
		}
	</script>
	<script src="../dojotoolkit/dojo/dojo.js"></script>
	<!--<script src="../js/dojoxGFX/dojo/dojo/dojo.js"></script>-->
	<script>
		if(dojo.isIE){
			console._log = console.log;
			console.log = function(){
				a = Array.prototype.slice.call(arguments);
				a = a.join("  ")
				console._log(a);
			}
		}

		dojo.require("dojo.parser");
		dojo.require("drawing.Drawing");
		
		
		
		
		dojo.require("drawing.Toolbar");
		
		
		dojo.require("drawing.tools.custom.Vector");
		dojo.require("drawing.tools.custom.Axes");		
		
		dojo.require("drawing.tools.Arrow");
		dojo.require("drawing.plugins.tools.Pan");
		dojo.require("drawing.plugins.tools.Zoom");
		dojo.require("drawing.plugins.drawing.Grid");
		
	</script>
	
</head>
<body>
    <h2>Drawing Test</h2>
	<textarea id="ta" ></textarea>
	<div id="conEdit" contenteditable="true"></div>
	<div id="wrapper">
		<div dojoType="drawing.Toolbar" drawingId="drawingNode" class="drawingCanvas"> <!-- TODO! Add class DYNAMICALLY???-->
			<!-- change 'tool' to 'plugin' -->
			<button tool="drawing.tools.Line" selected="false">Line</button>
			<button tool="drawing.tools.Rect" selected="true">Rect</button>
			<button tool="drawing.tools.Ellipse" selected="false">Ellipse</button>
			<button tool="drawing.tools.TextBlock" selected="false">Text</button>
			<button tool="drawing.tools.Arrow" selected="false">Arrow</button>
			<button tool="drawing.tools.custom.Vector" selected="false">Vector</button>
			<button tool="drawing.tools.custom.Axes" selected="false">Axes</button>
			&nbsp;&nbsp;&nbsp;
			
			<button plugin="drawing.plugins.tools.Zoom" options="{zoomInc:.1,minZoom:.5,maxZoom:2}">Zoom</button>
			
			&nbsp;&nbsp;&nbsp;
			
			<button plugin="drawing.plugins.tools.Pan" options="{}">Pan</button>
			
		</div>
		<div dojoType="drawing.Drawing" id="drawingNode" drawingType="canvas"
			 plugins="[{'name':'drawing.plugins.drawing.Grid', 'options':{gap:100}}]"
			 style="width:800px; height:500px; margin-top:20px; cursor:crosshair;">
			
		</div>
	</div>
</body>
</html>
