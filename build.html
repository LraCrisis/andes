<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Linwood H. Taylor">
   <meta name="GENERATOR" content="Mozilla/4.74 [en] (Win98; U) [Netscape]">
   <title>Build Tools</title>
</head>
<body>

<center>Build Instructions and Tools for creating distributions.</center>

<hr WIDTH="50%">
<center>
<p><b><u>Instructions</u></b></center>

<p>NOTES: You will need installed the following software: SourceSafe, Visual
C++, Winzip, Winzip Self Extractor and Allegro Lisp version 5.01
<p>&nbsp;&nbsp;&nbsp; 1) First open fbd project and edit VERSION_INFO in
resources to bump version number. Remember to bump both the File Version
and the Product Version.
<br>&nbsp;&nbsp;&nbsp; 2) Execute the command build (as described below)
<br>&nbsp;&nbsp;&nbsp; 3) Test resulting Andes2.exe as thouroughly as is
possible/practical.
<br>&nbsp;&nbsp;&nbsp; 4) Rename the resultant Andes2.exe with the version
number in form of AndesNNN.exe, e.g. Andes602.exe.
<br>&nbsp;&nbsp;&nbsp; 5) Copy AndesNNN.exe to the computer nearest door
in room 811 (our only machine permitted to access USNA ftp server).
<br>&nbsp;&nbsp;&nbsp; 6) Ftp (Use ws-ftp with profile andesftp-upload)
to Naval Academy server.
<br>&nbsp;&nbsp;&nbsp; 7) If desired, modify or create an <a href="http://www.pitt.edu/~andersw/andes-update.html">upgrade
instruction html page</a> and place it in any http space you have access
to, ensuring the ftp link on it points to the new AndesNNN.exe at ftp://ftp.usna.edu/pub/andesftp/AndesNNN.exe.
Include comments on features/alterations that may affect the users.
<br>&nbsp;&nbsp;&nbsp; 8) Notify the instructors of the new upgrade and
give them the url of the latest upgrade instruction html page.
<br>&nbsp;&nbsp;&nbsp; 9) Label (recursively) All project files with bumped
stamp.
<p>
<hr WIDTH="50%">
<center>
<p><b><u>Tools</u></b></center>

<p><b><u>Build.bat</u></b> an MS-DOS batch file that facilitates creation
of distributable Andes2 package.
<p>USAGE:
<br>&nbsp;&nbsp;&nbsp; <b>build</b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
outputs a much abbreviated version of this document
<br>&nbsp;&nbsp;&nbsp; <b>build</b> <i>DestDir ALL</i>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
builds a distributable that does not show an extra lisp console window
and places it in DestDir
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Example build C:\AndesBuild ALL
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
when complete the distributable is called Andes2.exe
<br>&nbsp;&nbsp;&nbsp; <b>build</b><i> DestDir ALLC</i>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
as previous command but with additional lisp console activated
<br>&nbsp;&nbsp;&nbsp; <b>build</b> <i>DestDir ALL(C) STEP</i>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
as previous commands but stops and prompts with press key to continue at
major steps
<br>&nbsp;&nbsp;&nbsp;<b> build</b> <i>DestDir UPDATE</i>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
as above but does not compile or get from source safe any files (no lisp
console)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(essentially just copies files and then zips them into package)
<br>&nbsp;&nbsp;&nbsp; <b>build</b> <i>DestDir UPDATEC</i>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
as above but does not compile or get from source safe any files (with lisp
console)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(essentially just copies files and then zips them into package)
<br>&nbsp;
<p>&nbsp;&nbsp;&nbsp; <b><i>WARNING</i></b>:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
At front of file are a number of environment variables that will need to
be edited. These variables specify the location of various programs, projects
and files that are needed to accomplish the build.&nbsp; If you attempt
to execute this without ensuring these variables are set according to your
environment the results may be not what is expected.
<p>&nbsp;&nbsp;&nbsp; Note: From the initial invocation of the command
... expect it to take a little over 5 minutes ... there is very little
user input required:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1) when lisp .dxl is completed you will have to hit the okay on the autoload
dialog and then close the top lisp console (you currently get two)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2) when the setup program begins you will have to set the directory to
<b><i>DestDir</i></b>
(argument specified on invoation) and then click next till finished.
<p>
<hr WIDTH="100%">
<p><b><u>AWBuild.bat</u></b> an MS-DOS batch file that facilitates creation
of distributable Andes2 package.
<p>USAGE:
<br>&nbsp;&nbsp;&nbsp; <b>awbuild</b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
outputs a much abbreviated version of this document
<br>&nbsp;&nbsp;&nbsp; <b>awbuild</b> <i>DestDir (C)</i>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
behaves as though you had specified <b>build</b> <i>DestDir UPDATE(C)</i>
<p><i>&nbsp;&nbsp;&nbsp; <b>WARNING:</b></i>
<br><b><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </i></b>same
notes as for <b>build</b>
</body>
</html>
